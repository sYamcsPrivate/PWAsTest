<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
    <title>学習アプリ</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        button {
            padding: 10px;
            margin: 5px;
            cursor: pointer;
        }
        .correct { background-color: green; color: white; }
        .incorrect { background-color: red; color: white; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">

const qa = {
  "中1_世界地理": [
    ["東南アジアで開かれた、コーヒーやゴムなどを栽培している大規模な農業", "プランテーション"],
    ["中国が沿岸部内陸部の格差をなくすため、2000年から始めた内陸部の開発。", "西部大開発"],
    ["アメリカで、情報技術産業などがさかんな北緯37度以南の地域", "サンベルト"],
    ["ハイテク産業の企業や研究所が多い、サンフランシスコ周辺の地域の総称", "シリコンバレー"],
    ["地球の気温が上昇している現象", "地球温暖化"],
    ["都市化の一方で、貧しい人々が住み生活環境が悪化している地区。", "スラム"],
    ["国や地域などの人口を面積で割って出した、一般に1kmあたりで示される人の数", "人口密度"],
    ["イギリスのロンドンを通る0度の経線の呼び名", "本初子午線"],
    ["沿岸から200海里以内の水域、沿岸の国が独占的に調査したり開発したりできる", "排他的経済水域"],
    ["一年の大半が雪や氷におおわれている気候帯", "寒带"],
    ["アフリカ北部やアラビア半島、ユーラシア大陸の内陸部などにみられる、雨が少なく乾燥した地域", "乾燥带"],
    ["熱帯の入り江や河口に育つ常緑広葉樹の森林", "マングローブ"],
    ["寒帯のうち、一年中氷や雪におおわれる気候", "氷雪気候"],
    ["乾燥帯のうち、少し雨が降り、たけの短い草が広がる草原がみられる気候", "ステップ気候"],
    ["乾燥した地域の中でもわき水や井戸があって水が得られる場所", "オアシス"],
    ["サハラ砂漠の南側に沿って広がる、少量の雨が降る地域", "サヘル"],
    ["他の国に政治・経済などあらゆる面で支配された地域", "植民地"],
    ["工業が発達し、工業製品を世界中に輸出するようになった中国の呼び名", "世界の工場"],
    ["同じ土地で一年に2回同じ作物をつくること", "二期作"],
    ["いくつもの国を流れ、沿岸国が自由に航行できるよう条約が結ばれている河川", "国際河川"],
    ["自然を見るだけでなく、体験や学習を通して地域の歴史や文化も楽しむ観光", "エコツーリズム"],
    ["1つの国の国民が国内・国外から1年間に得た所得を合計したもので、国の経済の成長をはかる指標となるもの", "国民総所得"],
    ["古代からあった他人の所有物とされて強制的に働かされ、売買された人々", "奴隷"],
    ["工業化が進んでいないため、限られた資源や農産物の輸出にたよっている国の経済のこと", "モノカルチャー経済"],
    ["スペイン語を話すメキシコや西インド諸島などからアメリカ合衆国にやってきた移民", "ヒスパニック"],
    ["太平洋を囲む国や地域が経済協力を目的として1989年に結成したアジア太平洋経済協力会議の欧文略称", "APEC"],
    ["アルゼンチンの国土の中央部、ラプラタ川沿いに広がる温帯の草原", "パンパ"],
    ["アマゾン川の河口から1600kmも上流にある、多くの船でにぎわっている都市", "マナオス"],
    ["さとうきびなどの植物原料からつくるアルコール燃料", "バイオエタノール"],
    ["将来世代のために、経済の発展と環境の保護を両立させる開発の考え", "持続可能な開発"],
    ["国土の3分の2が低い降水量で呼ばれているオーストラリア大陸の別名", "乾燥大陸"],
    ["オーストラリアの先住民", "アボリジニ"],
    ["ニュージーランドの先住民", "マオリ"],
    ["オーストラリアやニュージーランドをかつて植民地支配していたヨーロッパの国", "イギリス"],
    ["オーストラリアの現在の貿易相手国第1位であるアジアの国", "中国"],
    ["トンネルを掘るのではなく、地表から直接けずって鉱産資源を掘り出す方法", "露天掘り"],
    ["中国や東南アジアの国々出身の華人が集まって住んでいる地域", "チャイナタウン"],
    ["ヨーロッパで最も面積が広い国はどこですか？", "ロシア"],
    ["世界一高い山は何ですか？", "エベレスト"],
    ["アメリカ大陸で最も大きい国はどこですか？", "カナダ"],
    ["アフリカ大陸で最も人口が多い国はどこですか？", "ナイジェリア"],
    ["アジアで最も面積が広い国はどこですか？", "ロシア"],
    ["アジアで最も人口が多い国はどこですか？", "中国"],
    ["インドの首都はどこですか？", "ニューデリー"],
    ["アフリカで最も面積が広い国はどこですか？", "アルジェリア"],
    ["南アメリカで最も面積が広い国はどこですか？", "ブラジル"],
    ["南極大陸に存在する国はありますか？", "いいえ"],
    ["オーストラリアの首都はどこですか？", "キャンベラ"],
    ["フランスの首都はどこですか？", "パリ"],
    ["ブラジルの公用語は何ですか？", "ポルトガル語"],
    ["エジプトの首都はどこですか？", "カイロ"],
    ["アフリカで最大の湖は何ですか？", "ビクトリア湖"],
    ["アメリカ大陸で最も長い川は何ですか？", "アマゾン川"],
    ["アジアで最も長い川は何ですか？", "長江（揚子江）"],
    ["世界最長の川は何ですか？", "ナイル川"],
    ["サハラ砂漠はどの大陸にありますか？", "アフリカ"],
    ["アメリカ合衆国の独立記念日はいつですか？", "7月4日"],
    ["インドネシアはどの大陸に位置していますか？", "アジア"],
    ["アジアの国々で最も小さい国はどこですか？", "モルディブ"],
    ["世界で最も多くの言語が話されている国はどこですか？", "パプアニューギニア"],
    ["中国の首都はどこですか？", "北京"],
    ["アフリカで最も高い山は何ですか？", "キリマンジャロ"],
    ["アメリカ合衆国の首都はどこですか？", "ワシントンD.C."],
    ["世界で最も小さい国はどこですか？", "バチカン市国"],
    ["日本の最東端の島は何ですか？", "南鳥島"],
    ["世界一大きな島はどこですか？", "グリーンランド"],
    ["アジアで最も多くの島を持つ国はどこですか？", "インドネシア"],
    ["ヨーロッパで最も面積が広い国はどこですか？", "ロシア"],
    ["アフリカ大陸の国々の中で最も面積が小さい国はどこですか？", "セーシェル"],
    ["太平洋の最も大きな島は何ですか？", "グリーンランド"],
    ["世界で最も多くの人口を持つ都市はどこですか？", "東京"],
    ["アフリカで最も人口が多い都市はどこですか？", "ラゴス"],
    ["ヨーロッパで最も人口が多い国はどこですか？", "ロシア"],
    ["オーストラリアの隣にある国はどこですか？", "パプアニューギニア"],
    ["アフリカの赤道を越える国はどこですか？", "ケニア"],
    ["ブラジルにある世界一大きな熱帯雨林は何と呼ばれていますか？", "アマゾン熱帯雨林"],
    ["エジプトにあるピラミッドが有名な都市はどこですか？", "ギザ"],
    ["モンゴルの首都はどこですか？", "ウランバートル"],
    ["イギリスの首都はどこですか？", "ロンドン"],
    ["メキシコの通貨は何ですか？", "ペソ"],
    ["カナダの首都はどこですか？", "オタワ"],
    ["オーストラリアの隣国で最大の島はどこですか？", "ニューギニア"],
    ["世界で最も高い湖は何ですか？", "ウユニ塩湖"],
    ["アジアで最も面積が広い国はどこですか？", "ロシア"],
    ["アフリカで最も長い川は何ですか？", "ナイル川"],
    ["アメリカの国土面積は日本の何倍ですか？", "約25倍"],
    ["アフリカで最も有名な国はどこですか？", "エジプト"],
    ["アジアで最も面積が小さい国はどこですか？", "モルディブ"],
    ["アメリカ大陸で最も高い山は何ですか？", "アコンカグア山"],
    ["イタリアの首都はどこですか？", "ローマ"],
    ["ヨーロッパで最も小さな国はどこですか？", "バチカン市国"],
    ["アフリカで最も多くの国を持つ地域はどこですか？", "サハラ以南アフリカ"],
    ["オーストラリアの隣にある最も小さい国はどこですか？", "パプアニューギニア"],
    ["アジアで最も高い山は何ですか？", "エベレスト"],
    ["アメリカの最南端の州はどこですか？", "ハワイ州"],
    ["アフリカで最も高い山は何ですか？", "キリマンジャロ"],
    ["世界で最も古い文明が発展した場所はどこですか？", "メソポタミア"],
    ["インディアナ州にある大きな湖は何ですか？", "ミシガン湖"],
    ["アジアで最も多くの人口を持つ都市はどこですか？", "上海"],
    ["南アフリカの首都はどこですか？", "プレトリア"],
    ["世界で最も多くの金を生産している国はどこですか？", "中国"],
    ["モンゴルの気候はどのようなものですか？", "乾燥した寒冷気候"],
    ["世界で最も寒い場所はどこですか？", "南極大陸"],
    ["アメリカの最も人口の多い州はどこですか？", "カリフォルニア州"],
    ["アフリカで最も人口が少ない国はどこですか？", "セーシェル"],
    ["フランスの最も有名な観光地は何ですか？", "エッフェル塔"],
    ["ドイツの首都はどこですか？", "ベルリン"],
    ["ブラジルの主要な農産物は何ですか？", "コーヒー、サトウキビ"],
    ["ロシアの最も人口が多い都市はどこですか？", "モスクワ"],
    ["南アフリカで一番広い砂漠は何ですか？", "カルハリ砂漠"],
    ["アメリカの中で最も面積が広い州はどこですか？", "アラスカ州"],
  ],
  "中1_日本地理": [
    ["日本の最高峰の山は？", "富士山"],
    ["日本の最も長い川は？", "信濃川"],
    ["日本の首都は？", "東京"],
    ["日本で最も高い山は何ですか？", "富士山"],
    ["日本の最北端の島は何ですか？", "択捉島"],
    ["日本の最南端の島は何ですか？", "沖ノ鳥島"],
  ],
  "中1_世界史": [
    ["ペルーで15世紀に栄えていた帝国", "インカ帝国"],
    ["20世紀初めから1970年代にかけて、オーストラリアでとられていたヨーロッパ系以外の移民を制限する政策", "白豪主義"],
    ["メソポタミア文明で発明された、月の満ち欠けをもとにしてつくられた暦", "太陰曆"],
    ["「仁」と「礼」を基本とした道徳的な政治をするべきだとした教え", "儒学(儒教)"],
    ["ペルシャを征服して広大な帝国を築いたマケドニアの王", "アレクサンドロス大王"],
    ["紀元前1世紀に、地中海を囲む地域を統一し、領土を現在のヨーロッパ北部にまで広げた帝国", "ローマ帝国"],
  ],
  "中1_日本史": [
    ["江戸幕府を開いたのは誰？", "徳川家康"],
    ["第二次世界大戦が終結した年は？", "1945年"],
    ["遣唐使を廃止した人物は？", "菅原道真"],
    ["天智天皇の没後、後継ぎをめぐって起こった戦い", "壬申の乱"],
    ["律令制度で、九州地方の政治や外交、防衛にあたる役職", "大宰府"],
    ["中国の制度や文化を取り入れるため、奈良時代に送られた使節", "遣唐使"],
    ["794年に桓武天皇が移した都", "平安京"],
    ["藤原氏の一族が、天皇が幼い時についた役職", "摂政"],
    ["藤原氏の一族が、天皇の成人後についた天皇を補佐する役職", "関白"],
    ["摂関政治の全盛期を築いた人物", "藤原道長"],
    ["清少納言があらわした随筆", "枕草子"],
    ["京都の宇治に建てられた阿弥陀堂の代表的なもの", "平等院鳳凰堂"],
    ["894年に遣唐使に任命されたものの、唐のおとろえなどを理由に派遣の停止を訴えた人物", "菅原道真"],
    ["征夷大将軍に任命され、蝦夷と戦って胆沢地方を平定した人物。", "坂上田村麻呂"],
    ["地方の武士が多くの家来を従えて成長した組織。", "武士団"],
    ["上皇が摂政や関白の力をおさえて行った政治。", "院政"],
    ["1156年におこった内乱。後白河天皇方についた平清盛と源義朝らが勝利した。", "保元の乱"],
    ["1159年におこった内乱。平清盛が源義朝を破った戦い。", "平治の乱"],
    ["1185年に壇ノ浦で平氏をほろぼした人物。", "源義経"],
    ["御家人が将軍に対して朝廷のある京都や幕府のある鎌倉を整備し、生命をかけて軍役などを果たすこと", "奉公"],
    ["北条氏が独占して、幕府政治の実権を握ることになった将軍を補佐する役職。", "執権"],
    ["承久の乱のあと、幕府が設置した、朝廷の監視や京都の警備、西日本の武士の統率などをつかさどった役所。", "六波羅探題"],
    ["後鳥羽上皇の命令で編集された朝廷の文化を代表する和歌集。", "新古今和歌集"],
    ["念仏の札を配って教えを広め、時宗を開いた人物。", "一遍"],
    ["「南無妙法蓮華経」を唱えれば、人も国も救われると説いた仏教の宗派。", "日蓮宗"],
    ["座禅によって自分の力でさとりを開こうとする仏教の宗派", "禅宗"],
    ["天皇が位をゆずったあとの称号", "上皇"],
    ["源頼朝が1185年に国ごとに置いた役人", "守護"],
    ["源頼朝が1185年に荘園や公領ごとに置いた役人", "地頭"],
    ["後鳥羽上皇が幕府を倒そうと兵をあげたものの、幕府の大軍によって敗れた戦乱", "承久の乱"],
    ["1232年に北条泰時が定めた法律", "御成敗式目"],
    ["米の裏作に麦を作る農業", "二毛作"],
    ["琵琶法師によって語り伝えられた軍記物", "平家物語"],
    ["兼好法師によって書かれた随筆", "徒然草"],
    ["足利義満が明に対して朝貢の形式で始めた貿易", "勘合貿易"],
    ["実力のある者が力をのばして上の身分の者に打ち勝つ風潮", "下剋上"],
    ["戦国大名が領国の武士や農民の行動を取り締まるためにつくった独自の法律", "分国法"],
    ["大名が城の周辺に家来や商工業者を呼び寄せてつくった町", "城下町"],
    ["農民が土倉などをおそって借金の帳消しなどを求めた行動", "土一揆"],
    ["後継ぎ問題をめぐって有力な守護大名が対立し、1467年に起こった戦乱", "応仁の乱"],
  ]
};

const QuizApp = () => {
  const [category, setCategory] = React.useState("中1_世界地理");
  const [currentQuestionIndex, setCurrentQuestionIndex] = React.useState(0);
  const [showAnswer, setShowAnswer] = React.useState(false);
  const [answeredCount, setAnsweredCount] = React.useState(0);
  const [correctCount, setCorrectCount] = React.useState(0);

  React.useEffect(() => {
    showNextQuestion();
  }, [category]);

  const showNextQuestion = () => {
    const questions = qa[category];
    const randomIndex = Math.floor(Math.random() * questions.length);
    setCurrentQuestionIndex(randomIndex);
    setShowAnswer(false);
  };

  const toggleAnswer = () => {
    setShowAnswer((prev) => !prev);
  };

  const recordAnswer = (isCorrect) => {
    setAnsweredCount((prev) => prev + 1);
    if (isCorrect) setCorrectCount((prev) => prev + 1);
    showNextQuestion();
  };

  return (
    <div className="p-4">
      <label>
        <select value={category} onChange={(e) => {
          const questions = qa[e.target.value];
          setCurrentQuestionIndex(Math.floor(Math.random() * questions.length))
          setCategory(e.target.value)
        }}>
          {Object.keys(qa).map((key) => (
            <option key={key} value={key}>{key}</option>
          ))}
        </select>
      </label>
      <div className="mt-4">
        <p className="text-lg">{qa[category][currentQuestionIndex][0]}</p>
        <button className="mt-2 px-4 py-2 bg-blue-500 text-white rounded" onClick={toggleAnswer}>
          {showAnswer ? "解答を非表示" : "解答を表示"}
        </button>
        {showAnswer && <p className="mt-2 text-green-600">{qa[category][currentQuestionIndex][1]}</p>}
      </div>

      {showAnswer && (
        <div className="mt-4 flex gap-4">
          <button className="correct px-4 py-2 bg-green-500 text-white rounded" onClick={() => recordAnswer(true)}>
            覚えていた
          </button>
          <button className="incorrect px-4 py-2 bg-red-500 text-white rounded" onClick={() => recordAnswer(false)}>
            忘れていた・知らなかった
          </button>
        </div>
      )}

      <div className="mt-6">
        <p>解答済みの問題数: {answeredCount}</p>
        <p>覚えていた数: {correctCount}</p>
        <p>
          覚えていた割合: {answeredCount > 0 ? Math.round((correctCount / answeredCount) * 100) : 0}%
        </p>
      </div>
    </div>
  );
};


/*
        const qa = [






        ];

        function QuizApp() {
            const [currentQuestionIndex, setCurrentQuestionIndex] = React.useState(0);
            const [showAnswer, setShowAnswer] = React.useState(false);
            const [answeredCount, setAnsweredCount] = React.useState(0);
            const [correctCount, setCorrectCount] = React.useState(0);

            const showNextQuestion = () => {
                const randomIndex = Math.floor(Math.random() * qa.length);
                setCurrentQuestionIndex(randomIndex);
                setShowAnswer(false);
            };

            const toggleAnswer = () => {
                setShowAnswer(prev => !prev);
            };

            const recordAnswer = (isCorrect) => {
                setAnsweredCount(prev => prev + 1);
                if (isCorrect) setCorrectCount(prev => prev + 1);
                showNextQuestion();
            };

            return (
                <div>
                    <h1>クイズアプリ</h1>
                    <p>{qa[currentQuestionIndex][0]}</p>
                    <button onClick={toggleAnswer}>
                        {showAnswer ? "解答を非表示" : "解答を表示"}
                    </button>
                    {showAnswer && <p style={{ color: "green" }}>{qa[currentQuestionIndex][1]}</p>}
                    
                    {showAnswer && (
                        <div>
                            <button className="correct" onClick={() => recordAnswer(true)}>正解</button>
                            <button className="incorrect" onClick={() => recordAnswer(false)}>不正解</button>
                        </div>
                    )}

                    <div>
                        <p>解答済みの問題数: {answeredCount}</p>
                        <p>正解した数: {correctCount}</p>
                        <p>正解割合: {answeredCount > 0 ? Math.round((correctCount / answeredCount) * 100) : 0}%</p>
                    </div>
                </div>
            );
        }
*/

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<QuizApp />);
    </script>
</body>
</html>

